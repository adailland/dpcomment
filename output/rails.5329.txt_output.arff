% Generated by Discussion model rails.5329.txt
% File generated on 2017/08/02 15:59:31

@relation pr1501703971195

@attribute author String
@attribute textual String
@attribute isProjectMember {TRUE, FALSE}
@attribute isInvited {TRUE, FALSE}
@attribute numberOfWords numeric
@attribute commentsSoFar numeric
@attribute allUtterancesSoFar numeric
@attribute utterancesInCommentSoFar numeric
@attribute utteredByOriginalPoster {TRUE, FALSE}
@attribute hasCapitalizedWord {TRUE, FALSE}
@attribute containsShould {TRUE, FALSE}
@attribute hasDecisions {TRUE, FALSE}
@attribute howManyDecisions numeric
@attribute idComment numeric

@data
clifton,"Does it not make an API confusing to have #some_method? return a non-boolean value, even if it works in most places as expected?",FALSE,FALSE,23,0,2,2,TRUE,TRUE,FALSE,TRUE,0,1
clifton,"Here's a very contrived example (obviously you would never need to do this as written).",FALSE,FALSE,15,0,3,3,TRUE,FALSE,FALSE,TRUE,0,1
carlosantoniodasilva,"/cc @fxn",FALSE,FALSE,2,1,4,0,FALSE,FALSE,FALSE,TRUE,0,2
fxn,"I am -1 on this one. Predicates return a value that is true or false in the Ruby definition of the words and client code should not expect any particular value from them (unless documented).",FALSE,TRUE,35,2,6,1,FALSE,TRUE,TRUE,TRUE,0,3
fxn,"You write",FALSE,TRUE,2,2,7,2,FALSE,FALSE,FALSE,TRUE,0,3
fxn,"rather than",FALSE,TRUE,2,2,8,3,FALSE,FALSE,FALSE,TRUE,0,3
fxn,"The singletons allow you to return booleans when you need them.",FALSE,TRUE,11,2,9,4,FALSE,FALSE,FALSE,TRUE,0,3
clifton,"Well, to be fair, github.com/styleguide from @kneath",FALSE,FALSE,7,3,10,0,TRUE,TRUE,FALSE,TRUE,0,4
clifton,"The names of predicate methods (methods that return a boolean value) should end in a question mark. (i.e. Array#empty?).",FALSE,FALSE,19,3,11,1,TRUE,TRUE,TRUE,TRUE,0,4
clifton,"No rubyist would ever write unless request.xhr? == true and the part of our app that broke had some parameterization passed similar to :ajax_request => request.xhr?, which TBH isn't great style, but would break down when testing for true or false in a language such as javascript where 0 evaluates to false.",FALSE,FALSE,52,3,12,2,TRUE,TRUE,FALSE,TRUE,0,4
clifton,"And regardless of Ruby style opinions (obviously I'm in the camp that thinks it's bad style to not return true or false from a #method?) it's an API change coming from 2.3. In 2.3 it returned true or false. API changes that happen without good reason are only going to frustrate your users.",FALSE,FALSE,53,3,14,4,TRUE,TRUE,FALSE,TRUE,0,4
fxn,"The code",FALSE,TRUE,2,4,15,0,FALSE,TRUE,FALSE,TRUE,0,5
fxn,"is broken. It is not using the predicate as such, it is relying on the undocumented return value of the predicate. Rails didn't promise any value and thus there's no contract changed: The contract is that the value is true or false (regular font) depending on whether the request is Ajax.",FALSE,TRUE,51,4,17,2,FALSE,TRUE,FALSE,TRUE,0,5
fxn,"If you need a boolean as value for :ajax_request you need to get one out of the predicate, for example",FALSE,TRUE,20,4,18,3,FALSE,FALSE,FALSE,TRUE,0,5
fxn,"or something more explicit.",FALSE,TRUE,4,4,19,4,FALSE,FALSE,FALSE,TRUE,0,5
clifton,"Well, to fix the code during our rails migration (which still isn't complete after 3 months -- 75k LOC app), that's exactly what I had to do.",FALSE,FALSE,27,5,20,0,TRUE,TRUE,FALSE,TRUE,0,6
clifton,"Rails 2.3 version",FALSE,FALSE,3,5,21,1,TRUE,FALSE,FALSE,TRUE,0,6
clifton,"Rails 3.1 version:",FALSE,FALSE,3,5,22,2,TRUE,TRUE,FALSE,TRUE,0,6
clifton,"My two arguments, , were:",FALSE,FALSE,5,5,23,3,TRUE,TRUE,FALSE,TRUE,0,6
clifton,"This needlessly broke API compatibility between 2.3 and 3.1",FALSE,FALSE,9,5,24,4,TRUE,TRUE,FALSE,TRUE,0,6
clifton,"Using !!some_method? is bad style, I understand using !!some_method but the ? should indicate a boolean return value.",FALSE,FALSE,18,5,25,5,TRUE,TRUE,TRUE,TRUE,0,6
clifton,"The second argument might be nitpicky (and I suppose just my opinion), but the first isn't.",FALSE,FALSE,16,5,26,6,TRUE,TRUE,FALSE,TRUE,0,6
fxn,"I understand that having something subtle to fix is annoying.",FALSE,TRUE,10,6,27,0,FALSE,TRUE,FALSE,TRUE,0,7
fxn,"You've gone over a major upgrade though, and again, the interface of the predicate has not changed at all anyway!",FALSE,TRUE,20,6,28,1,FALSE,FALSE,FALSE,TRUE,0,7
fxn,"You have to understand that ? in xhr? does indicate a boolean value. You believe it should be true or false (fixed-with font), but in Ruby any value is a boolean value because the language defines what is true and false.",FALSE,TRUE,41,6,29,2,FALSE,TRUE,TRUE,TRUE,0,7
fxn,"And that is the way one writes predicates in Ruby.",FALSE,TRUE,10,6,30,3,FALSE,TRUE,FALSE,TRUE,0,7
fxn,"Also operators rely on this language feature",FALSE,TRUE,7,6,31,4,FALSE,FALSE,FALSE,TRUE,0,7
fxn,"enters the loop because 1 && 2 && 3 evaluates to the true value 3, there's no requirement for && to return true or false (and it doesn't). Same for =~ which is what xhr? is based on today.",FALSE,TRUE,39,6,32,5,FALSE,TRUE,FALSE,TRUE,0,7
fxn,"That's the way Ruby works! These semantics about predicates are very common in programming languages indeed.",FALSE,TRUE,16,6,33,6,FALSE,TRUE,FALSE,TRUE,0,7
fxn,"OK the thread is clear I believe. I am convinced of the criteria to apply here and that the code had no business doing a double negation. So I am going to close the pull request and at the same time understand your opinion may be different.",FALSE,TRUE,47,6,34,7,FALSE,TRUE,FALSE,TRUE,0,7
masterkain,"Sorry but I concur with @clifton, request.xhr? should be casted to return true or false. my 2 cents.",FALSE,FALSE,18,7,36,1,FALSE,TRUE,TRUE,TRUE,0,8
fxn,"@masterkain predicates in Ruby are not required, nor expected, to return any particular value. Client code cannot depend on the value either, unless documented (like Integer#nonzero?). The code in that application was subtly using the returned value. That's broken, nobody is telling anything about the return value.",FALSE,TRUE,47,8,38,1,FALSE,TRUE,FALSE,TRUE,0,9
fxn,"The singletons true and false are there so that you can use them in predicates if nothing else makes sense.",FALSE,TRUE,20,8,39,2,FALSE,FALSE,FALSE,TRUE,0,9
fxn,"For example, you'd write",FALSE,TRUE,4,8,40,3,FALSE,FALSE,FALSE,TRUE,0,9
fxn,"you could also wirte",FALSE,TRUE,4,8,41,4,FALSE,FALSE,FALSE,TRUE,0,9
fxn,"but that's redundant and nobody requires/expects the predicate to be written that way.",FALSE,TRUE,13,8,42,5,FALSE,FALSE,FALSE,TRUE,0,9
masterkain,"@fxn whilst I agree with your point my thinking goes before the entire 'what should we return from a method with?'.",FALSE,TRUE,21,9,43,0,FALSE,TRUE,TRUE,TRUE,0,10
masterkain,"I mean, POLS (http://en.wikipedia.org/wiki/Principle_of_least_astonishment). We are talking about a Rails method that it's used for its true/false values and nothing else.",FALSE,TRUE,21,9,45,2,FALSE,TRUE,FALSE,TRUE,0,10
clifton,"Just an example of using #present? which always returns true or false. I understand your argument of whether it should be guaranteed to return a boolean or just work in a conditional statement, but again it did break API compatibility and it looks stylistically ugly to some of us to return a non-boolean value.",FALSE,TRUE,54,10,46,0,TRUE,TRUE,TRUE,TRUE,0,11
fxn,"Let's be crystal clear: no API has been changed at all",FALSE,TRUE,11,11,47,0,FALSE,TRUE,FALSE,TRUE,0,12
fxn,"Please stop making that claim and realize your app, as annoying as it can be, had a time bomb! The reaction should be:  Ouch, look we were relying on a value that was not guaranteed. Also, we were sending a non-portable value through the wire rather than ensuring it was portable. Good this upgrade made this apparent, let's fix it .",FALSE,TRUE,60,11,49,2,FALSE,TRUE,TRUE,TRUE,0,12
tarcieri," it is relying on the undocumented return value of the predicate ",FALSE,FALSE,11,12,50,0,FALSE,FALSE,FALSE,TRUE,0,13
tarcieri,"I'd almost say it's a failure of Ruby's predicate methods not to coerce to a boolean and instead presenting  truthy / falsey  values. These can be quite confusing from irb.",FALSE,FALSE,28,12,52,2,FALSE,TRUE,FALSE,TRUE,0,13
tarcieri,"+1 on coercing to true/false unless there's a legitimate performance concern which dictates otherwise. Returning nil and 0 is especially confusing considering that 0 is  truthy  in Ruby and false in most other languages.",FALSE,FALSE,34,12,54,4,FALSE,TRUE,FALSE,TRUE,0,13
fxn,"Sorry, it seems I edited a comment (thought I was replying).",FALSE,TRUE,11,13,55,0,FALSE,TRUE,FALSE,TRUE,0,14
fxn,"@clifton said the docs say otherwise because it contain the word  true . Response is:",FALSE,TRUE,14,13,56,1,FALSE,TRUE,FALSE,TRUE,0,14
fxn,"Of course not.",FALSE,TRUE,3,13,57,2,FALSE,FALSE,FALSE,TRUE,0,14
fxn,"Being true (regular font), means being true. Being false means being false (regular font). All values in Ruby are true except false and nil.",FALSE,TRUE,24,13,58,3,FALSE,TRUE,FALSE,TRUE,0,14
wagenet,"It seems like this PR is being turned down on principle vs practicality. I can't see how there is any problem with coercing the value to true or false even if that shouldn't strictly be required by Ruby conventions.",FALSE,FALSE,39,14,60,1,FALSE,TRUE,TRUE,TRUE,0,15
tarcieri,"@fxn: They're not true. They're truthy. Is truthiness good enough? Maybe for Stephen Colbert, but not for me. Please don't let truthniness replace what's actually true.",FALSE,FALSE,26,15,62,1,FALSE,TRUE,FALSE,TRUE,0,16
fxn,"Gents, you may have personal preferences regarding how you write your predicates. That's perfect.",FALSE,TRUE,14,16,63,0,FALSE,TRUE,FALSE,TRUE,0,17
fxn,"But the fact is that Ruby the programming language has clear rules about this. As most programming languages out there.",FALSE,TRUE,20,16,64,1,FALSE,TRUE,FALSE,TRUE,0,17
fxn,"Predicates typically return one of the Boolean values true or false, but this is not required, as any value other than false or nil works like true when a Boolean value is required. (The Numeric method nonzero?, for example, returns nil if the number it is invoked on is zero, and just returns the number otherwise.)",FALSE,TRUE,56,16,65,2,FALSE,TRUE,FALSE,TRUE,0,17
fxn,"That's from Flanagan & Matz.",FALSE,TRUE,5,16,66,3,FALSE,TRUE,FALSE,TRUE,0,17
fxn,"Thus, while you may have personal preferences and reflect them on your code, when your code is client code you cannot expect anything particular from a predicate unless documented.",FALSE,TRUE,29,16,68,5,FALSE,TRUE,FALSE,TRUE,0,17
fxn,"That's the way the language works.",FALSE,TRUE,6,16,69,6,FALSE,FALSE,FALSE,TRUE,0,17
vertis,"@fxn you're wrong about this",FALSE,FALSE,5,17,70,0,FALSE,FALSE,FALSE,TRUE,0,18
vertis,"returns a true/false. Which is a well documented and accepted convention for methods that end in a '?'. The new method as found in 3.1 has broken a contract, indeed the documentation you linked to makes it very clear.  Returns true if the requestâ€˜s  X-Requested-With  header contains  XMLHttpRequest ... .",FALSE,FALSE,48,17,71,1,FALSE,TRUE,FALSE,TRUE,0,18
vertis,"Changing that behaviour and then pushing the blame onto the user is not right.",FALSE,FALSE,14,17,72,2,FALSE,FALSE,FALSE,TRUE,0,18
tarcieri,"Returning 0 as an indicator of truthiness is wrong. That's not personal preference. That's common sense.",FALSE,FALSE,16,18,74,1,FALSE,TRUE,FALSE,TRUE,0,19
clifton,"http://api.rubyonrails.org/v2.3.8/classes/ActionController/Request.html#M000518 :",FALSE,TRUE,2,19,75,0,TRUE,FALSE,FALSE,TRUE,0,20
clifton,"Returns true if the requestâ€˜s  X-Requested-With  header contains  XMLHttpRequest . (The Prototype Javascript library sends this header with every Ajax request.)",FALSE,TRUE,20,19,77,2,TRUE,TRUE,FALSE,TRUE,0,20
clifton,"This method is also aliased as xhr?",FALSE,TRUE,7,19,78,3,TRUE,FALSE,FALSE,TRUE,0,20
clifton,"I suppose my last comment was moderated. Really?",FALSE,TRUE,8,19,79,4,TRUE,TRUE,FALSE,TRUE,0,20
kneath,"Regardless of ruby style, mandates, API documentation semantics... would Rails be easier to work with if this method returned true/false?",FALSE,TRUE,20,20,81,1,FALSE,TRUE,FALSE,TRUE,0,21
kneath,"Personally I would say yes. I would love to see this merged. Seems like it would keep backwards compatibility and improve the future.",FALSE,TRUE,23,20,82,2,FALSE,TRUE,FALSE,TRUE,0,21
clifton,"thank you @kneath ðŸ‘?ðŸ‘?ðŸ‘?ðŸ‘?ðŸ‘?",FALSE,TRUE,4,21,83,0,TRUE,FALSE,FALSE,TRUE,0,22
tarcieri,"+1 there @kneath",FALSE,FALSE,3,22,84,0,FALSE,FALSE,FALSE,TRUE,0,23
fxn,"@vertis wrong, the entire Rails documentation uses true and false to indicate that. That's the normal way to describe a predicate  says whether... ,  returns true if... .",FALSE,TRUE,26,23,85,0,FALSE,TRUE,FALSE,TRUE,0,24
fxn,"When we want to say the singleton true or false (which is totally unusual because it is almost never needed) we use fixed-width font.",FALSE,TRUE,24,23,86,1,FALSE,FALSE,FALSE,TRUE,0,24
fxn,"Why that convention? Because it is the convention used in Ruby predicates. You use them in conditional statements and such, never use their value unless documented.",FALSE,TRUE,26,23,87,2,FALSE,TRUE,FALSE,TRUE,0,24
bionicpill,"I think the crux of this problem is the example is trying to coerce Ruby's idea of truthiness to Javascript's idea of truthiness and they are far from aligned. The issue is not in the Ruby code which I believe is doing the correct thing. Duck typing is awesome because we don't have to force things to be true or false. If this breaks your JS, well then you need to write a smarter converter. Trying to force Ruby to be compatible with other languages sets a very bad precedent.",FALSE,FALSE,90,24,89,1,FALSE,TRUE,FALSE,TRUE,0,25
aprescott,"@tarcieri +1 on distinguishing truthiness from true.",FALSE,FALSE,7,25,90,0,FALSE,FALSE,FALSE,TRUE,0,26
aprescott,"If #xhr?'s return value shouldn't be relied upon except as either something truthy or falsy in a condition, then why was xhr? changed to 0 and nil in 0aa66f0?",FALSE,FALSE,29,25,92,2,FALSE,TRUE,TRUE,TRUE,0,26
fxn,"@tarcieri having 0 to indicate something is true in Ruby is wrong? Can you please enumerate which are the false values in Ruby?",FALSE,TRUE,23,26,93,0,FALSE,TRUE,FALSE,TRUE,0,27
fxn,"Or is Rails written in C?",FALSE,TRUE,6,26,94,1,FALSE,TRUE,FALSE,TRUE,0,27
fxn,"@aprescott because that change does not alter the contract, and removes a double negation (one in an exclamation mark, and another one in the operator).",FALSE,TRUE,25,27,96,1,FALSE,FALSE,FALSE,TRUE,0,28
tarcieri,"But seriously, I've been doing this Ruby thing for awhile, and returning 0 from a predicate method to mean true is extremely confusing.",FALSE,TRUE,23,28,97,0,FALSE,TRUE,FALSE,TRUE,0,29
tarcieri,"Things that you could return that are better than 0:",FALSE,TRUE,10,28,98,1,FALSE,FALSE,FALSE,TRUE,0,29
tarcieri," This is indeed an XMLHttpRequest ",FALSE,TRUE,5,28,104,7,FALSE,TRUE,FALSE,TRUE,0,29
tarcieri,"Any of those would be acceptable. Plzfix.",FALSE,TRUE,7,28,105,8,FALSE,TRUE,FALSE,TRUE,0,29
mboeh," Ruby doesn't require us to do X so we won't do X  isn't much of an argument. The Rails contributing guidelines discourage using and/or in favor of &&/|| -- why is this? Not due to any limitation or requirement of the language, but because it's been commonly decided that and/or have confusing semantics.",FALSE,FALSE,53,29,106,0,FALSE,TRUE,FALSE,TRUE,0,30
mboeh,"Returning truthy/falsy values from predicates rather than true/false is rude. It frequently clutters up IRB/pry/ruby-debug output.",FALSE,FALSE,16,29,107,1,FALSE,TRUE,FALSE,TRUE,0,30
mboeh,"It's also unhygienic. It risks breaking encapsulation. Consider this:",FALSE,FALSE,9,29,108,2,FALSE,TRUE,FALSE,TRUE,0,30
mboeh,"This leaks an instance variable which may be a private implementation detail of the class. You have no idea where that return value might end up being stored, considering Ruby's implicit return. You might end up having that object stick around much longer than it is needed, because it's stored somewhere far away from that original method call. So we clean it up:",FALSE,FALSE,63,29,110,4,FALSE,TRUE,FALSE,TRUE,0,30
mboeh,"So, what, we do this when it's necessary for encapsulation, and not at other times? Inconsistent and easy to apply incorrectly. It's much easier to establish a convention of returning true/false from predicates. It gives your objects a more consistent interface. It protects your implementation details. And it's friendlier to people interacting with the object in a console, or logging the results of that predicate.",FALSE,FALSE,65,29,112,6,FALSE,TRUE,FALSE,TRUE,0,30
mboeh,"!!value has been derided as cargo-cult programming in the past, but it seems to me that at this point not returning true/false from predicates has become a cargo cult itself. Please reconsider.",FALSE,FALSE,32,29,113,7,FALSE,TRUE,FALSE,TRUE,0,30
aprescott,"@fxn going to have to echo the sentiment that, to someone familiar with Ruby, documentation saying  returns true  does not mean  returns truthy object , and so the contract was altered by 0aa66f0.",FALSE,TRUE,32,30,115,1,FALSE,TRUE,FALSE,TRUE,0,31
vertis,"@fxn I disagree. Just saying you use a different font for singletons, doesn't change how everyone would read that.",FALSE,TRUE,19,31,116,0,FALSE,TRUE,FALSE,TRUE,0,32
vertis,"It's a well accepted convention that methods with a ? will return a true or false boolean value, not just work in an if statement.",FALSE,TRUE,25,31,118,2,FALSE,TRUE,FALSE,TRUE,0,32
vertis,"There are many examples of the following:",FALSE,TRUE,7,31,119,3,FALSE,FALSE,FALSE,TRUE,0,32
vertis,"In the example you're suggesting, the later method should never exist, because I can quite easily do:",FALSE,TRUE,17,31,120,4,FALSE,TRUE,TRUE,TRUE,0,32
vertis,"And it will just work.",FALSE,TRUE,5,31,121,5,FALSE,FALSE,FALSE,TRUE,0,32
vertis,"I'm with @kneath on this anyway, what's the problem? Will it cause a performance issue? The 2.3 method is more flexible, and restoring it will prevent confusion when people upgrade.",FALSE,TRUE,30,31,123,7,FALSE,TRUE,FALSE,TRUE,0,32
fxn,"@aprescott I disagree. Any predicate is documented that way. It is a natural way to express the behavior of a predicate isn't it.",FALSE,TRUE,23,32,124,0,FALSE,TRUE,FALSE,TRUE,0,33
fxn,"That is also documented http://guides.rubyonrails.org/api_documentation_guidelines.html#regular-font",FALSE,TRUE,5,32,125,1,FALSE,FALSE,FALSE,TRUE,0,33
fxn,"But users may or may not know the guidelines. Ruby programmers know a predicate returns something to be interpreted in a boolean context. You cannot expect the singletons! The singletons are for the author of the predicate, not for the caller to expect them.",FALSE,TRUE,44,32,127,3,FALSE,TRUE,FALSE,TRUE,0,33
fxn,"Personal preferences are one thing, a formal language is a different thing. Client code is client code.",FALSE,TRUE,17,32,128,4,FALSE,TRUE,FALSE,TRUE,0,33
krsmurata,"I really don't see the point on this discussion, it's just a matter of a consistent pattern within Rails regarding methods with the predicate  ? . Which is a best practice in any language/app.",FALSE,FALSE,33,33,130,1,FALSE,TRUE,FALSE,TRUE,0,34
krsmurata,"Do Rails have all ? methods returning true or false? Does this breaks the pattern? If so, this is a no brainer. But I really doubt that this is the case.",FALSE,FALSE,31,33,131,2,FALSE,TRUE,FALSE,TRUE,0,34
krsmurata,"On another hand, I personally I agree that returning true or false is more straight forward and the expected behavior, and this PR doesn't break anything, why not accept it?",FALSE,FALSE,30,33,132,3,FALSE,TRUE,FALSE,TRUE,0,34
krsmurata,"Sometimes it feels like core team is always highly defensive about core rails code.",FALSE,FALSE,14,33,133,4,FALSE,FALSE,FALSE,TRUE,0,34
tarcieri,"@fxn The least confusing symbol you can use for true is true. It seems you're defending being intentionally confusing",FALSE,TRUE,19,34,134,0,FALSE,TRUE,FALSE,TRUE,0,35
fxn,"It's a well accepted convention that methods with a ? will return a true or false boolean value, not just work in an if statement.",FALSE,TRUE,25,35,136,1,FALSE,FALSE,FALSE,TRUE,0,36
fxn,"No, it is not a well accepted convention. That's why Ruby does not require that you return the singletons and define what is true and false. Because you can use that.",FALSE,TRUE,31,35,138,3,FALSE,TRUE,FALSE,TRUE,0,36
fxn,"Look! Standard library, no singleton.",FALSE,TRUE,5,35,139,4,FALSE,TRUE,FALSE,TRUE,0,36
fxn,"People, you cannot rely on the values of predicates unless documented. Predicates are to be interpreted in boolean context.",FALSE,TRUE,19,35,140,5,FALSE,TRUE,FALSE,TRUE,0,36
clifton,"@mboeh your post mirrors my sentiments exactly. I used the (@one && @two).present? example right above yours. Thanks for putting the argument into better words.",FALSE,TRUE,25,36,141,0,TRUE,TRUE,FALSE,TRUE,0,37
clifton,"@bionicpill that JS example was contrived, and the problem was actually leaking the implementation detail to another piece of Ruby and not JavaScript.",FALSE,TRUE,23,36,142,1,TRUE,TRUE,FALSE,TRUE,0,37
fxn,"@krsmurata because there is nothing wrong about the semantics. And while I respect people may have other stylistic preferences, I write",FALSE,TRUE,21,37,143,0,FALSE,TRUE,FALSE,TRUE,0,38
fxn,"which is short and idiomatic.",FALSE,TRUE,5,37,144,1,FALSE,FALSE,FALSE,TRUE,0,38
fxn,"So it is not a matter of being defensive, it is that this is my code base. I am not going to go to your code base to tell you what your code style you should use because I expect it due to my preferences.",FALSE,TRUE,45,37,145,2,FALSE,TRUE,TRUE,TRUE,0,38
aprescott,"@fxn well, to draw a fair comparison, the documentation for File#world_writeable? doesn't make claims about returning true.",FALSE,TRUE,17,38,146,0,FALSE,TRUE,FALSE,TRUE,0,39
aprescott,"If file_name is writable by others, returns an integer representing the file permission bits of file_name. Returns nil otherwise. The meaning of the bits is platform dependent; on Unix systems, see stat(2).",FALSE,TRUE,32,38,147,1,FALSE,TRUE,FALSE,TRUE,0,39
aprescott,"Even if you accept  you can't rely on predicate method values to be true or false , the documentation between the two examples differ. If the implication in the Rails guidelines you linked to is that foo? can be described as returning  true  while not returning true, then I simply disagree with the guidelines, I suppose.",FALSE,TRUE,55,38,148,2,FALSE,TRUE,FALSE,TRUE,0,39
tarcieri,"@fxn can you at least confirm you think doing the more confusing thing here is actually a good idea? And perhaps you can actually tell us why you think it's a good idea, as opposed to just cargo culting the Ruby standard library, which, IMO, is not exactly the paragon of what I'd consider good Ruby code",FALSE,TRUE,57,39,150,1,FALSE,TRUE,FALSE,TRUE,0,40
rlivsey,"I get the argument that client code shouldn't expect / rely on the singletons being returned, but I fail to see how the downsides weigh against accepting this request.",FALSE,FALSE,29,40,151,0,FALSE,TRUE,TRUE,TRUE,0,41
rlivsey,"As far as I can tell:",FALSE,FALSE,6,40,152,1,FALSE,TRUE,FALSE,TRUE,0,41
rlivsey,"Cons for returning singletons:",FALSE,FALSE,4,40,153,2,FALSE,FALSE,FALSE,TRUE,0,41
rlivsey,"one/two extra characters in the codebase (multiplied by number of predicate methods obviously)",FALSE,FALSE,13,40,154,3,FALSE,FALSE,FALSE,TRUE,0,41
rlivsey,"maybe lulls developers into a false sense of security that all predicate methods everywhere return singletons?",FALSE,FALSE,16,40,155,4,FALSE,FALSE,FALSE,TRUE,0,41
rlivsey,"Cons for not returning singletons:",FALSE,FALSE,5,40,157,6,FALSE,FALSE,FALSE,TRUE,0,41
rlivsey,"confusing for consumers of the library, even those who have read the documentation style-guides",FALSE,FALSE,14,40,158,7,FALSE,FALSE,FALSE,TRUE,0,41
rlivsey,"leaks encapsulation",FALSE,FALSE,2,40,159,8,FALSE,FALSE,FALSE,TRUE,0,41
rlivsey,"messes up logs, forces all client code to coerce to booleans first",FALSE,FALSE,12,40,160,9,FALSE,FALSE,FALSE,TRUE,0,41
rlivsey,"messes up output in IRB/debugger",FALSE,FALSE,5,40,161,10,FALSE,TRUE,FALSE,TRUE,0,41
rlivsey,"For a framework which added in #second, #third etc... to Array I don't see extra characters of code being a good argument against accepting this, so it must be a question of purity.",FALSE,FALSE,33,40,162,11,FALSE,TRUE,FALSE,TRUE,0,41
rlivsey,"Rails famously  optimises for developer happiness , I'd have thought purity should take a close second place to obviousness where reasonable?",FALSE,FALSE,20,40,164,13,FALSE,TRUE,TRUE,TRUE,0,41
rlivsey,"My 2Â¢, worth considerably less than that!",FALSE,FALSE,7,40,165,14,FALSE,FALSE,FALSE,TRUE,0,41
fxn,"@tarcieri I have expressed the rationale enough in the whole thread I believe.",FALSE,TRUE,13,41,166,0,FALSE,TRUE,FALSE,TRUE,0,42
tarcieri,"@fxn I don't think you've touched on the issue of developer confusion at all, except perhaps trolling those that would be confused by using 0 to mean true",FALSE,TRUE,28,42,167,0,FALSE,TRUE,FALSE,TRUE,0,43
fxn,"The reason this PR is not accepted is clear. Double negations are unnecessary, the code is more clear without them. And that is why it was changed. To be idiomatic and do not force singletons when they are unnecessary.",FALSE,TRUE,39,43,168,0,FALSE,TRUE,FALSE,TRUE,0,44
fxn,"Some people would write that method in a different way. I totally respect that.",FALSE,TRUE,14,43,169,1,FALSE,TRUE,FALSE,TRUE,0,44
collin,"@fxn You/the rails documentation are doing a really great impression of Bill Clinton.",FALSE,FALSE,13,44,170,0,FALSE,TRUE,FALSE,TRUE,0,45
collin," It depends upon what the meaning of the word 'is' is. If theâ€”if heâ€”if 'is' means is and never has been, that is notâ€”that is one thing. If it means there is none, that was a completely true statement ",FALSE,FALSE,39,44,171,1,FALSE,TRUE,FALSE,TRUE,0,45
collin," regular font  true vs true is the least communicable idea I've heard in months. And this is GOP primary season.",FALSE,FALSE,20,44,172,2,FALSE,TRUE,FALSE,TRUE,0,45
tarcieri,"@fxn I'm actually not in favor of this pull request, however I would be in favor of reverting 0aa66f0",FALSE,TRUE,19,45,174,1,FALSE,TRUE,FALSE,TRUE,0,46
tarcieri,"What value does it actually add? You eliminate one boolean inverse operation? It seems like you're microoptimizing this method at the cost of confusion. Before it returned true/false. Now it returns 0/nil. true/false is a lot less confusing than 0/nil.",FALSE,TRUE,40,45,176,3,FALSE,TRUE,FALSE,TRUE,0,46
aprescott,"Is !!(a =~ b) really that much more confusing to a Ruby programmer compared to a =~ b that it warrants keeping it as the latter for this one-line method?",FALSE,TRUE,30,46,177,0,FALSE,TRUE,FALSE,TRUE,0,47
bts,"if i was playing around with a library and it returned 0 from some_method? i would immediately assume there's probably a bug in the code",FALSE,FALSE,25,47,179,1,FALSE,FALSE,FALSE,TRUE,0,48
fxn,"@tarcieri have you read the thread? in no place I've said optimization was a motivation. Motivation is to simplify the code leveraging the fact that using a boolean operator as such is valid and idiomatic.",FALSE,TRUE,35,48,181,1,FALSE,TRUE,FALSE,TRUE,0,49
mboeh,"@fxn It's not  code style  when the change bubbles up to client code. You haven't bothered to address the encapsulation, logging, or IRB arguments I and others have offered. Instead, you're persisting in treating the semantics as irrelevant. You can't justify yourself by claiming it's a matter of style while simultaneously ignoring counterarguments to that claim.",FALSE,TRUE,56,49,183,1,FALSE,TRUE,FALSE,TRUE,0,50
fxn,"@mboeh because those are not counterarguments at all. You are surprised that a predicate prints nil in IRB. Fantastic, that means you need to revise your expectations about the semantics of Ruby!",FALSE,TRUE,32,50,184,0,FALSE,TRUE,FALSE,TRUE,0,51
clifton,"@tarcieri I'd also be in agreement with reverting 0aa66f0",FALSE,TRUE,9,51,185,0,TRUE,TRUE,FALSE,TRUE,0,52
clifton,"I should have created the pull request with that instead.",FALSE,TRUE,10,51,186,1,TRUE,FALSE,TRUE,TRUE,0,52
clifton,"The kind of refactoring that's awesome for rails is the kind of optimization that @tenderlove â?¤ï¸?â?¤ï¸?â?¤ï¸? has been doing. Breaking API compatibility for a tiny amount of CPU cycles in a language that's optimized for programmer happiness rather than performance is the kind of optimization that wasn't worth 0aa66f0 in the first place.",FALSE,TRUE,53,51,188,3,TRUE,TRUE,FALSE,TRUE,0,52
clifton,"And saying the compatibility wasn't in the contract because the word true wasn't in a fixed-width font is pretty mind-boggling when the documentation clearly says it returns true.",FALSE,TRUE,28,51,189,4,TRUE,FALSE,FALSE,TRUE,0,52
clifton,"I guess we just have differing opinions.",FALSE,TRUE,7,51,190,5,TRUE,FALSE,FALSE,TRUE,0,52
clifton,"Thanks for all your great work on Rails, but I hope you can really think about this kind of issue and take a more sensible approach in the future.",FALSE,TRUE,29,51,191,6,TRUE,TRUE,FALSE,TRUE,0,52
fxn,"@clifton as I have said before, the motivation are not CPU cycles. Performance has not been mentioned.",FALSE,TRUE,17,52,192,0,FALSE,TRUE,FALSE,TRUE,0,53
wagenet,"@fxn, so !! may not be the correct solution to this, but it still seems like a problem. Just because returning 0 is a valid response, doesn't mean it's ideal. As others have pointed out, Ruby allows certain things that are not ideal. That doesn't mean we should do them. It seems like you are holding your ground on this merely because technically it is ok, even if it is not actually the clearest thing to do. If your response was  yes, this is confusing, but !! is no better  then I would understand and I would hope that together we could all find a better solution. I think we need to keep the principle of least surprise in mind here.",FALSE,FALSE,121,53,194,1,FALSE,TRUE,TRUE,TRUE,0,54
mboeh,"@fxn If you're going to misrepresent one of my arguments and ignore the rest, you could do the courtesy of not being condescending about it.",FALSE,TRUE,25,54,195,0,FALSE,TRUE,FALSE,TRUE,0,55
collin,"@wagenet least surprise indeed.",FALSE,FALSE,4,55,196,0,FALSE,FALSE,FALSE,TRUE,0,56
collin,"Did a quick survey of built-in predicate methods. They return true and false.",FALSE,FALSE,13,55,197,1,FALSE,TRUE,FALSE,TRUE,0,56
collin,"I would expect the same here.",FALSE,FALSE,6,55,198,2,FALSE,FALSE,FALSE,TRUE,0,56
tarcieri,"@fxn check my comments on 0aa66f0, your change actually caused a performance regression on JRuby and Rubinius.",FALSE,TRUE,17,56,199,0,FALSE,TRUE,FALSE,TRUE,0,57
tarcieri,"I would strongly be in favor of reverting it, not for the performance impact, but for the more unclear return values. The performance regression is just icing on the cake. There is absolutely no benefit in that change.",FALSE,TRUE,38,56,201,2,FALSE,TRUE,FALSE,TRUE,0,57
alloy,"@bts and thatâ€™s the problem. It should be made clear that thatâ€™s not something you should assume in Ruby. @fxn has imo more than enough explained why in general this should not be expected behavior.",FALSE,FALSE,35,57,202,0,FALSE,TRUE,TRUE,TRUE,0,58
alloy,"Choosing between a truthy value vs true is a style-issue in Ruby. This is good, because it allows you to return values other than true or false when you need/want that, but still have a nice ? at the end of the method. Changing this concept would mean we as lib authors lose freedom, as users will start to expect it more and more.",FALSE,FALSE,64,57,204,2,FALSE,TRUE,FALSE,TRUE,0,58
alloy,"So imo, even-though I understand the OPâ€™s point on this specific case, in general you canâ€™t expect people to change their style choice when you want to use their code (Rails).",FALSE,FALSE,31,57,205,3,FALSE,TRUE,FALSE,TRUE,0,58
aprescott,"Following on from what @collin said, for what it's worth, the guideline content on fixed-width vs regular fonts for true vs  true  doesn't appear to have been changed in quite a while:",FALSE,TRUE,32,58,206,0,FALSE,TRUE,FALSE,TRUE,0,59
aprescott,"Would changing the guidelines to make  true  == true be too far-reaching in terms of the return values for existing predicate methods in Rails? In other words, do the vast majority of Rails predicate methods rely on this guideline?",FALSE,TRUE,39,58,209,3,FALSE,TRUE,FALSE,TRUE,0,59
vertis,"@alloy that's just the thing though. You can have an expectation that the behaviour of a public method shouldn't change without a good reason. I do not find removing a couple of ! to be a good reason.",FALSE,TRUE,38,59,211,1,FALSE,TRUE,TRUE,TRUE,0,60
vertis,"I've learned something today, about my preconceived notion that methods with ? will always be true or false. I'll digest that later.",FALSE,TRUE,22,59,212,2,FALSE,TRUE,FALSE,TRUE,0,60
vertis,"The reality is in this case there is no harm in going by going back to the previous implementation, and a lot of potential harm and confusion by keeping it the way it is now.",FALSE,TRUE,35,59,213,3,FALSE,FALSE,FALSE,TRUE,0,60
tpope,"I hate to dog-pile on a thread like this, but, well, I almost feel obligated. It boggles my mind that anyone would defend this behavior. I don't mind that it's backwards incompatible. I don't mind that I can't do request.xhr? == true. But to justify mindfucking anyone who dares to invoke request.xhr? in a debugger with  the docs don't say it won't do that  is just plain silliness.",FALSE,FALSE,68,60,215,1,FALSE,TRUE,FALSE,TRUE,0,61
tpope,"If double negation is such a deal breaker, there are plenty of alternative implementations. For example:",FALSE,FALSE,16,60,216,2,FALSE,TRUE,FALSE,TRUE,0,61
vertis,"@tpope brilliant.",FALSE,TRUE,2,61,217,0,FALSE,FALSE,FALSE,TRUE,0,62
wagenet,"@alloy, it seems to me that Rails has grown beyond the point of being just  someone's code . Obviously, the core team is the final arbiter of any decisions, but it's also important to listen to the concerns of the actual users. This is especially true in cases like this where there is no compelling argument to return a non-boolean value other than  Ruby allows us to . If users find something confusing and there is no noticeable loss in making it less confusing, then why not make the users happy?",FALSE,TRUE,89,62,218,0,FALSE,TRUE,FALSE,TRUE,0,63
drogus,"While I don't usually rely on methods with ? to return boolean value, I don't see any point in making it harder to rails devs. In most cases you don't care, but xhr? is somehow related to javascript (for example it's sometimes used in JSON responses).",FALSE,FALSE,46,63,220,1,FALSE,TRUE,FALSE,TRUE,0,64
drogus,"@fxn while I understand your point that people should not rely on such behavior, can we be pragmatic and just return what's expected here? The documentation stated that it returns true and while we may argue if it means only truthiness or actual true boolean value, a lot of people understand it as the latter (including me).",FALSE,FALSE,57,63,222,3,FALSE,TRUE,TRUE,TRUE,0,64
alloy,"@vertis I know, thatâ€™s why I said that in this specific case I understand the OPâ€™s issue with it.",FALSE,TRUE,19,64,223,0,FALSE,TRUE,FALSE,TRUE,0,65
alloy,"For what itâ€™s worth, if this were my codebase, I would revert it to what it was. Simply because I returned a value in the past (true or false) that could easily have been interpreted as meaning that the singletons can be expected.",FALSE,TRUE,43,64,224,1,FALSE,TRUE,FALSE,TRUE,0,65
alloy,"I would not, however, go through all other predicate methods and change them to return true or false if they did not do that already.",FALSE,TRUE,25,64,225,2,FALSE,FALSE,FALSE,TRUE,0,65
mboeh,"@alloy When you're providing a public API thousands of people use every day,  freedom  isn't something you get anymore.",FALSE,TRUE,19,65,226,0,FALSE,TRUE,FALSE,TRUE,0,66
mboeh,"@tpope +1. I'd like to see this in a pull request, in order to find out whether double negation is really the problem here.",FALSE,TRUE,24,65,227,1,FALSE,TRUE,FALSE,TRUE,0,66
tarcieri,"@tpope +1 for your version",FALSE,TRUE,5,66,228,0,FALSE,FALSE,FALSE,TRUE,0,67
alloy,"@mboeh Wow. Thatâ€™s not a very nice and motivating thing to say.",FALSE,TRUE,12,67,229,0,FALSE,TRUE,FALSE,TRUE,0,68
alloy,"@tpope I like that, learned something today. Thanks :)",FALSE,TRUE,9,68,230,0,FALSE,TRUE,FALSE,TRUE,0,69
clifton,"@tpope +1",FALSE,TRUE,2,69,231,0,TRUE,FALSE,FALSE,TRUE,0,70
konklone,"I've been coding in Ruby for almost 6 years now, @fxn, and I suspect many others on this thread each have several years of experience. You're defending your argument as  the semantics of Ruby . If just about every Rubyist on this thread is disagreeing with you about what  the semantics of Ruby  are, you should think about the possibility that you are wrong.",FALSE,FALSE,63,70,232,0,FALSE,TRUE,TRUE,TRUE,0,71
konklone,"A method ending with a question mark returns true or false, unless there's a specific and good reason to make it truthy instead. If you don't have one here (and it seems to have worked this way just fine in 2.3), then you should change it to return a boolean.",FALSE,FALSE,50,70,234,2,FALSE,TRUE,TRUE,TRUE,0,71
tpope,"Pull requested. We shall see.",FALSE,TRUE,5,71,235,0,FALSE,TRUE,FALSE,TRUE,0,72
fxn,"@klondike please refer to Flanagan & Matz above. That's what says how Ruby predicates behave, not a set of Ruby programmers that would like it to be different than how it is (which as I have said several times here I totally respect).",FALSE,TRUE,43,72,237,1,FALSE,TRUE,FALSE,TRUE,0,73
krsmurata,"@fxn wait wait, I'm not accusing the core team of anything, far from me pointing fingers when I do nearly nothing for the rails goodness these days. Maybe I should use #joke tag instead of a trollface. :)",FALSE,TRUE,38,73,238,0,FALSE,TRUE,TRUE,TRUE,0,74
krsmurata,"The only thing that concerns me is changing the public API in favor of removing double negation form the code. In my opinion any change on the Rails public API is a big deal and should be avoided if necessary. Even if it's a matter of 0 or true.",FALSE,TRUE,49,73,240,2,FALSE,TRUE,TRUE,TRUE,0,74
tarcieri,"It's all moot now ;)",FALSE,TRUE,5,74,241,0,FALSE,TRUE,FALSE,TRUE,0,75
ajsharp,"Call me crazy, but if people who wish to contribute to, or read, rails' source code, can't be bothered to perform the mental hurdles to understand a !! in ruby code (which, imo, is relatively idiomatic in and of itself), then we've got bigger problems. But that's not what this thread is really about.",FALSE,FALSE,54,75,242,0,FALSE,TRUE,FALSE,TRUE,0,76
ajsharp,"This thread devolved into a largely theoretical argument about what predicate methods in ruby code should/shouldn't do, and whether theoretical code should/shouldn't expect certain values from methods, and method contracts, encapsulation, etc. All good arguments that never should have had to be made. This should have been a trivial commit, but for some reason we're still talking about it. There are more important problems to solve than this. :sadpanda:",FALSE,FALSE,69,75,243,1,FALSE,TRUE,TRUE,TRUE,0,76
ajsharp,"Still, I'd be remiss if I didn't color my criticism of rails core with a great deal of thanks for the hard work you do. So thanks!",FALSE,FALSE,27,75,244,2,FALSE,TRUE,FALSE,TRUE,0,76
bleything,"@fxn: your handling of this situation is very disappointing. You've had a user complain that a change made things more confusing, and your response is, effectively,  too bad, that's how it works .",FALSE,FALSE,32,76,245,0,FALSE,TRUE,FALSE,TRUE,0,77
bleything,"There's no technical argument to be made for that method returning a boolean, but there's also no technical argument to be made for it returning anything else. Given that's the case, why not err on the side of easier to use?",FALSE,FALSE,41,76,246,1,FALSE,TRUE,FALSE,TRUE,0,77
bleything,"@tarcieri asked you directly, twice, to address this point, but you haven't done so. Could you please give us a rationale for making a change that increases confusion with no other benefit?",FALSE,FALSE,32,76,247,2,FALSE,TRUE,FALSE,TRUE,0,77
collin,"@fxn What is the reason for xml_http_request? to have an a-typical response?",FALSE,TRUE,12,77,249,1,FALSE,TRUE,FALSE,TRUE,0,78
collin,"Oh sweet, awesome pull request won. Adios.",FALSE,TRUE,7,78,250,0,FALSE,TRUE,FALSE,TRUE,0,79
fxn,"@collin the response is not atypical. The predicate returns a boolean value.",FALSE,TRUE,12,79,251,0,FALSE,TRUE,FALSE,TRUE,0,80
collin,"@fxn  Predicates typically return one of the Boolean values true or false  is not the same as  Predicates typically return one of the Boolean values true or false or 0 ",FALSE,TRUE,30,80,252,0,FALSE,TRUE,FALSE,TRUE,0,81
fxn,"To all in this thread.",FALSE,TRUE,5,81,253,0,FALSE,TRUE,FALSE,TRUE,0,82
fxn,"The PR that has been applied does not change the API contract: We are not guaranteeing in any way that xhr? is going to return singletons next year. And in general no Rails predicate guarantees that.",FALSE,TRUE,36,81,254,1,FALSE,TRUE,FALSE,TRUE,0,82
fxn,"So, if after this thread you still rely on expected singletons you have a time bomb.",FALSE,TRUE,16,81,255,2,FALSE,FALSE,FALSE,TRUE,0,82
clifton,"There is a great argument to be had that my pull's ugliness, using !!(whatever) isn't worth it. I understand that.",FALSE,TRUE,20,82,257,1,TRUE,TRUE,FALSE,TRUE,0,83
clifton,"You, and the other rails-core guys, are leaders in our field and owners of a fantastic web framework, many including myself would say it's the best web framework. Part of being a great leader is realizing when you're wrong. It's natural to be defensive and it's fine to argue every counterpoint. And you're right about many of them. But the strength of your argument is not stronger than the collective opinion of this community.",FALSE,TRUE,74,82,258,2,TRUE,TRUE,FALSE,TRUE,0,83
fxn,"@clifton Nice sentence, except your code is the one who is broken.",FALSE,TRUE,12,83,259,0,FALSE,TRUE,FALSE,TRUE,0,84
fxn,"Why? Because I am the one who defined the contract. Not you! The contract does not guarantee any singleton. And if the contract guarantees no singleton and the code expects a singleton, then the code is wrong.",FALSE,TRUE,37,83,260,1,FALSE,TRUE,FALSE,TRUE,0,84
fxn,"Being defensive is an attitude, explaining the rationale and how predicates work in Ruby a hundred times is being patient. You could argue you are the one being defensive and stubborn and not admitting from the very moment you saw that line of code that the code had a bug. This thread had never had to start.",FALSE,TRUE,57,83,261,2,FALSE,TRUE,FALSE,TRUE,0,84
clifton,"It started because you made a change 0aa66f0 which broke our [very large] application during an upgrade. I was upset. So I made a pull request as a wtf? knee-jerk reaction. The exact way I went about all of this was likely in bad taste.",FALSE,TRUE,45,84,262,0,TRUE,TRUE,FALSE,TRUE,0,85
clifton,"That's not to say I wasn't right. In fact, I'd say I was because @tpope's pull request was merged in over your code as a result.",FALSE,TRUE,26,84,263,1,TRUE,TRUE,FALSE,TRUE,0,85
clifton,"Don't get me wrong, I love Rails. I helped get a company off the ground (while I was in college without salary) and we have almost 40 employees now. And it's largely in part to a framework you and others contribute to. The work you've done has put a roof over the heads of all those people. That's pretty magical.",FALSE,TRUE,60,84,264,2,TRUE,TRUE,FALSE,TRUE,0,85
clifton,"I'd just appreciate if you valued the opinions of others that have been working for years with your framework more. That doesn't make us right all the time, and I could be completely wrong on this issue too, but you've responded in a pretty negative way and written off some really great arguments without addressing them.",FALSE,TRUE,56,84,265,3,TRUE,TRUE,FALSE,TRUE,0,85
fxn,"@clifton I think you can't deny I have tried to explain the rationale many times, and that I have said also many times that I respect the other point of view. If you read the thread top-bottom I think I have been always respectful.",FALSE,TRUE,44,85,266,0,FALSE,TRUE,FALSE,TRUE,0,86
fxn,"But people assume that not applying a pull request is being defensive, or not listening to your users.",FALSE,TRUE,18,85,267,1,FALSE,FALSE,FALSE,TRUE,0,86
fxn,"What has happened here is that I have explained very patiently and respectfully why the predicate was written that way. And  I have no doubt about what I did.",FALSE,TRUE,30,85,268,2,FALSE,TRUE,FALSE,TRUE,0,86
fxn,"You may differ, and that's fine. Even when I closed this PR I said some people may think different, and that's fine. But I am totally certain that the patch was correct and breaking no contract. That's being sure about one's rationale behind a code change, which is different from listening or not listening to users.",FALSE,TRUE,56,85,269,3,FALSE,TRUE,FALSE,TRUE,0,86
asterite,"@fxn In all the example you gave about Ruby's standard library having predicates returning things that are not the singletons true or false, the documentation explicitly says what is returned. In the case of nonzero? it's  Returns self if num is not zero, nil otherwise. This behavior is useful when chaining comparisons . Other people showed you the documentation for other predicates.",FALSE,FALSE,61,86,270,0,FALSE,TRUE,FALSE,TRUE,0,87
asterite,"Saying something returns true makes the user of that method expect it to be the singleton true regardless of the font you use.",FALSE,FALSE,23,86,272,2,FALSE,TRUE,FALSE,TRUE,0,87
asterite,"With this change you are breaking someone's code (and possibly other people's code) and having no benefit at all except  This is Ruby style and I don't care what I said in the documentation . Also: why was the method changed? What was the improvement?",FALSE,FALSE,44,86,273,3,FALSE,TRUE,FALSE,TRUE,0,87
asterite,"You have two choices: 1. make the method return true or false or 2. document that the method returns zero when the predicate is truthy. But I'd suggest doing 1.",FALSE,FALSE,30,86,275,5,FALSE,TRUE,FALSE,TRUE,0,87
vertis,"@asterite while I generally agree with your points, indicating that @fxn has to do anything is incorrect. In fact I'm beginning to believe that he shouldn't do anything.",FALSE,TRUE,28,87,276,0,FALSE,TRUE,TRUE,TRUE,0,88
vertis,"@fxn is (and has been) keeping sight of the bigger picture -- if you start making tiny changes based on the loud voices of a minority, then the code base will flip flop backwards and forwards any time someone has an issue (and sends it out to twitter). That's not a state we want rails to be in.",FALSE,TRUE,58,87,277,1,FALSE,TRUE,FALSE,TRUE,0,88
vertis,"I'm not saying I agree with the project policy regarding predicates, because I don't. But you have to respect that there is one, and that this isn't the place to change that. If the change is impossible for @clifton to live without in his app, then he can create a monkey patch.",FALSE,TRUE,52,87,278,2,FALSE,TRUE,FALSE,TRUE,0,88
konklone,"@vertis I guess I can respect your general sentiment, but I don't think there's any evidence that the people here are a  loud minority . There's been no polling on the issue, so if the overwhelming sentiment on this thread favors one thing, there's no inherent reason to believe they're a minority.",FALSE,FALSE,51,88,279,0,FALSE,TRUE,FALSE,TRUE,0,89
vertis,"@klondike I think trusting the sentiment on a single thread, when blood has run hot, is not necessarily a good thing. The reality is, we're all wasting an inordinate amount of time on what is, as @josevalim pointed out, micro-optimization.",FALSE,TRUE,40,89,280,0,FALSE,TRUE,FALSE,TRUE,0,90
Alamoz,"@vertis Changing the behaviour to work differently than before and differently than documented is flip flopping. If you feel strongly about leaving it alone, then why not change the documentation to specify that any value can be returned?",FALSE,FALSE,38,90,281,0,FALSE,TRUE,FALSE,TRUE,0,91
Alamoz,"But do expect people to get pissed about lack of backward compatibility. Hopefully such changes will settle down moving forward.",FALSE,FALSE,20,90,282,1,FALSE,TRUE,FALSE,TRUE,0,91
clifton,"I honestly did not care that my change was rejected (the patch in our app was obviously !!request.xhr?).",FALSE,TRUE,18,91,283,0,TRUE,TRUE,FALSE,TRUE,0,92
clifton,"There are two things troubling to me here:",FALSE,TRUE,8,91,284,1,TRUE,FALSE,FALSE,TRUE,0,92
clifton,"@tpope's patch was reverted (which was nice, performant, and kept compatibility with Rails 2.3)",FALSE,TRUE,14,91,285,2,TRUE,TRUE,FALSE,TRUE,0,92
clifton,"#5572 was closed by @fxn",FALSE,TRUE,5,91,286,3,TRUE,FALSE,FALSE,TRUE,0,92
clifton,"It's obvious there was no contract to return a singleton here. You're just screwing over people using a debugger by making them jump through a mental hoop and breaking compatibility for the sake of change.",FALSE,TRUE,35,91,287,4,TRUE,TRUE,FALSE,TRUE,0,92
clifton,"I'll go back to work now. There are more important things to do.",FALSE,TRUE,13,91,288,5,TRUE,TRUE,FALSE,TRUE,0,92
agraves,"The fact that this method returned 0 instead of true just cost us an hour of head-scratching.",FALSE,FALSE,17,92,289,0,FALSE,TRUE,FALSE,TRUE,0,93
agraves,"I understand and totally respect @fxn's points about why 0 is correct, but I see no reason why of all the  truthy  values, 0 was chosen, except for the fact that the implementation happened to make it convenient.",FALSE,FALSE,38,92,291,2,FALSE,TRUE,FALSE,TRUE,0,93
agraves,"I think the general delineation that fxn points to between truthy and untruthy values is quite wise...I can see how the behavior of .nonzero? benefits from essentially overloading the return value with additional information.",FALSE,FALSE,34,92,292,3,FALSE,FALSE,FALSE,TRUE,0,93
agraves,"The question that clinches it for me, though is: what information are we allowing to bleed through by not casting this down to a boolean? The answer is: where a particular phrase is found within a HTTP header. I cannot think of a situation where a good programmer would leverage that.",FALSE,FALSE,51,92,294,5,FALSE,TRUE,FALSE,TRUE,0,93
agraves,"I've always found it important in designing code for other coders to look beyond what is correct towards what is intuitive. The fact that a ton of really intelligent people have found their way here again and again is, to me, a very clear indication that the current behavior, while correct, is suboptimal.",FALSE,FALSE,53,92,295,6,FALSE,TRUE,FALSE,TRUE,0,93
agraves,"And by the way, the code that distinguishes truthy values from true? The :layout option on Rails' own render...",FALSE,FALSE,19,92,296,7,FALSE,TRUE,FALSE,TRUE,0,93
miry,"For those who want to see the true or false, I have published a monkey patching gem bang_bang_xhr.",FALSE,FALSE,18,93,297,0,FALSE,TRUE,FALSE,TRUE,0,94
fxn,"Man you would need to patch the majority of predicates in Rails, the return value is irrelevant, what you can rely on is the documented return value, and we document predicates in general (there are exceptions) without committing to the exact object being returned.",FALSE,TRUE,44,94,298,0,FALSE,TRUE,FALSE,TRUE,0,95
fxn,"This was part of the original discussion, this is not a rarity of xhr?, it is the way Rails defines predicates at the project level.",FALSE,TRUE,25,94,299,1,FALSE,TRUE,FALSE,TRUE,0,95
jeroenhouben,"Superconfusing. And therefore should be properly documented. Right now the docs says:",FALSE,FALSE,12,95,300,0,FALSE,TRUE,TRUE,TRUE,0,96
jeroenhouben,"Returns true if the â€œX-Requested-Withâ€? header contains â€œXMLHttpRequestâ€? (case-insensitive). All major JavaScript libraries send this header with every Ajax request.",FALSE,FALSE,20,95,301,1,FALSE,TRUE,FALSE,TRUE,0,96
ChristianPeters,"Well, I also fell into this trap as I was unaware of the fact that 0 is truthy in Ruby.",FALSE,FALSE,20,96,302,0,FALSE,TRUE,FALSE,TRUE,0,97
ChristianPeters,"I think this is like a court decision that the public regards as counter-intuitive. Yes, it's formally right from a language perspective but it also violates POLA in a world dominated by languages considering 0 as falsey.",FALSE,FALSE,37,96,303,1,FALSE,TRUE,FALSE,TRUE,0,97
ChristianPeters,"In my opinion, Rails should make a developer's life easier with easy-to-use APIs.",FALSE,FALSE,13,96,304,2,FALSE,TRUE,TRUE,TRUE,0,97
ChristianPeters,"A first step into the right direction would be to talk about  truthy values  vs. true in documentation. Who expects the non-existence of a special formatting (fixed width font) to be relevant before reading through an issue like this?",FALSE,FALSE,39,96,306,4,FALSE,TRUE,FALSE,TRUE,0,97
