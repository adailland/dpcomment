% Generated by Discussion model rails.26266.txt
% File generated on 2017/08/02 15:59:30

@relation pr1501703970394

@attribute author String
@attribute textual String
@attribute isProjectMember {TRUE, FALSE}
@attribute isInvited {TRUE, FALSE}
@attribute numberOfWords numeric
@attribute commentsSoFar numeric
@attribute allUtterancesSoFar numeric
@attribute utterancesInCommentSoFar numeric
@attribute utteredByOriginalPoster {TRUE, FALSE}
@attribute hasCapitalizedWord {TRUE, FALSE}
@attribute containsShould {TRUE, FALSE}
@attribute hasDecisions {TRUE, FALSE}
@attribute howManyDecisions numeric
@attribute idComment numeric

@data
jmccartie,"Friends don't let friends use INT as a primary key.â€” Schneems (@schneems)May 13, 2016",FALSE,FALSE,14,0,0,0,TRUE,TRUE,FALSE,TRUE,0,1
jmccartie,"Per a conversation with @sgrif: changes default primary keys from Integer to BIGINT for both Postgresql and MySQL.  Leaves behavior alone for SQLite since this database does not provide support for BIGINT primary keys.",FALSE,FALSE,35,0,2,2,TRUE,TRUE,FALSE,TRUE,0,1
jmccartie,"Other Information",FALSE,FALSE,2,0,3,3,TRUE,TRUE,FALSE,TRUE,0,1
jmccartie,"For obvious reasons, this also requires foreign keys to change from integer to bigints. As a result the test suite's schema.rb has been change in the necessary places.",FALSE,FALSE,28,0,4,4,TRUE,TRUE,FALSE,FALSE,1,1
jmccartie,"I'll squash and add a CHANGELOG entry once the rest looks ok...",FALSE,FALSE,12,0,5,5,TRUE,TRUE,FALSE,TRUE,0,1
rails-bot,"Thanks for the pull request, and welcome! The Rails team is excited to review your changes, and you should hear from @kaspth (or someone else) soon.",FALSE,FALSE,26,1,6,0,FALSE,TRUE,TRUE,TRUE,0,2
rails-bot,"If any changes to this PR are deemed necessary, please add them as extra commits. This ensures that the reviewer can see what has changed since they last reviewed the code. Due to the way GitHub handles out-of-date commits, this should also make it reasonably obvious what issues have or haven't been addressed. Large or tricky changes may require several passes of review and changes.",FALSE,FALSE,65,1,7,1,FALSE,TRUE,TRUE,TRUE,0,2
rails-bot,"This repository is being automatically checked for code quality issues using Code Climate. You can see results for this analysis in the PR status below. Newly introduced issues should be fixed before a Pull Request is considered ready to review.",FALSE,FALSE,40,1,8,2,FALSE,TRUE,TRUE,TRUE,0,2
rails-bot,"Please see the contribution instructions for more information.",FALSE,FALSE,8,1,9,3,FALSE,FALSE,FALSE,TRUE,0,2
sgrif,"We'll need to make sure that migrations written against 5.0 and later don't have the type of their primary key changed.",FALSE,TRUE,21,2,11,1,FALSE,TRUE,FALSE,TRUE,0,3
jmccartie,"@sgrif Can you recommend a best-practice for ensuring that?  Have we done something like that in the past that I can learn from?",FALSE,FALSE,24,3,12,0,TRUE,TRUE,FALSE,TRUE,0,4
jmccartie,"@sgrif Thanks.",FALSE,FALSE,2,5,14,0,TRUE,TRUE,FALSE,TRUE,0,6
jmccartie,"@sgrif So override the necessary methods inside class V5_0 ?",FALSE,FALSE,10,6,15,0,TRUE,TRUE,FALSE,FALSE,1,7
rafaelfranca,"This is a dup of #24962. While this implementation may be more complete it is really a bad OSS etiquette to finish other people PR without given them a chance to finish it or proper credits.",FALSE,FALSE,36,7,16,0,FALSE,TRUE,FALSE,TRUE,0,8
rafaelfranca,"My recommendation:",FALSE,FALSE,2,7,17,1,FALSE,FALSE,FALSE,TRUE,0,8
rafaelfranca,"pull #24962 commits in this PR.",FALSE,FALSE,6,7,18,2,FALSE,TRUE,FALSE,TRUE,0,8
rafaelfranca,"Work on top of that commits",FALSE,FALSE,6,7,19,3,FALSE,FALSE,FALSE,TRUE,0,8
jmccartie,"@rafaelfranca Ah - thanks for showing me that. I searched for open PR's, but that didn't turn up for me.",FALSE,FALSE,20,8,20,0,TRUE,TRUE,FALSE,TRUE,0,9
jmccartie,"I work at Heroku with @rwz, so I'll cycle around with him and see if we can tag team this.",FALSE,FALSE,20,8,21,1,TRUE,TRUE,FALSE,TRUE,0,9
jmccartie,"I've now entered into the 3rd layer of git rebase hell...",FALSE,FALSE,11,10,23,0,TRUE,TRUE,FALSE,TRUE,0,11
rafaelfranca,"I've now entered into the 3rd layer of git rebase hell...",FALSE,TRUE,11,11,24,0,FALSE,TRUE,FALSE,TRUE,0,12
rafaelfranca,"lol. This is really tough.",FALSE,TRUE,5,11,25,1,FALSE,TRUE,FALSE,TRUE,0,12
kaspth,"r? @sgrif",FALSE,TRUE,2,12,26,0,FALSE,FALSE,FALSE,TRUE,0,13
schneems,"Looks like tests are passing now",FALSE,TRUE,6,13,27,0,FALSE,TRUE,FALSE,TRUE,0,14
sgrif,"This needs to handle MySQL as well. Is it possible for us to implement this in an adapter agnostic way?",FALSE,TRUE,20,14,29,1,FALSE,TRUE,FALSE,TRUE,0,15
jmccartie,"Yeah, I can make that change.",FALSE,FALSE,6,15,30,0,TRUE,TRUE,FALSE,TRUE,0,16
jmccartie,"On Thu, Aug 25, 2016 at 10:13 AM, Sean Griffin notifications@github.comwrote:",FALSE,FALSE,11,15,31,1,TRUE,TRUE,FALSE,TRUE,0,16
jmccartie,"In activerecord/lib/active_record/migration/compatibility.rb#26266 (comment):",FALSE,FALSE,3,15,32,2,TRUE,FALSE,FALSE,TRUE,0,16
jmccartie,"@@ -103,6 +103,16 @@ def index_name_for_remove(table_name, options = {})end",FALSE,FALSE,9,15,33,3,TRUE,FALSE,FALSE,TRUE,0,16
jmccartie,"This needs to handle MySQL as well. Is it possible for us to implementthis in an adapter agnostic way?",FALSE,FALSE,19,15,35,5,TRUE,TRUE,FALSE,TRUE,0,16
jmccartie,"â€”You are receiving this because you modified the open/close state.Reply to this email directly, view it on GitHubhttps://github.com/rails/rails/pull/26266/files/de485a4379a265218f1bbea900c08f45e39a93fd#r76285358,or mute the threadhttps://github.com/notifications/unsubscribe-auth/AAIJEYj45MhqMMLNBPIkwwMhoRSdHCBuks5qjc1DgaJpZM4JrgwZ.",FALSE,FALSE,21,15,36,6,TRUE,TRUE,FALSE,TRUE,0,16
jmccartie,"@sgrif Added a test for MySQL compatibility. The logic still queues off the adapter name, though. We could move that logic into a default on each adapter, but then we have some sort of  legacy_primary_key  method on the adapter itself, which I liked much less than the ternary.",FALSE,FALSE,48,16,38,1,TRUE,TRUE,FALSE,TRUE,0,17
sgrif,"Can we just make the PG adapter do the right thing when the PK type is integer?",FALSE,TRUE,17,17,41,1,FALSE,TRUE,FALSE,TRUE,0,18
jmccartie,"@sgrif I'm not sure. Both adapters need the logic since we need to ensure MySQL uses integer (and not bigint) and Postgresql uses serial (and not bigserial)",FALSE,FALSE,27,18,42,0,TRUE,TRUE,FALSE,FALSE,1,19
sgrif,"How about just :integer?",FALSE,TRUE,4,19,44,1,FALSE,TRUE,FALSE,TRUE,0,20
sgrif,"On Thu, Aug 25, 2016 at 11:04 PM Jon McCartie notifications@github.comwrote:",FALSE,TRUE,11,19,45,2,FALSE,TRUE,FALSE,TRUE,0,20
sgrif,"@sgrif https://github.com/sgrif Something like this?",FALSE,TRUE,5,19,46,3,FALSE,TRUE,FALSE,TRUE,0,20
sgrif,"options[:id] ||= connection.class::LEGACY_PK_TYPE",FALSE,TRUE,3,19,47,4,FALSE,FALSE,FALSE,TRUE,0,20
sgrif,"â€”You are receiving this because you were mentioned.Reply to this email directly, view it on GitHub#26266 (comment), or mutethe threadhttps://github.com/notifications/unsubscribe-auth/ABdWK2-R2Rj-aRqV77WLaJaf0AC5MeBYks5qjlfYgaJpZM4JrgwZ.",FALSE,TRUE,20,19,48,5,FALSE,TRUE,FALSE,TRUE,0,20
jmccartie,"Because Postgresql needs serial, which is an ...",FALSE,FALSE,8,20,50,1,TRUE,TRUE,FALSE,TRUE,0,21
jmccartie,".... oh, right ... an integer.",FALSE,FALSE,6,20,51,2,TRUE,FALSE,FALSE,TRUE,0,21
matthewd,"Pulling over my concern from #24962 (comment):",FALSE,FALSE,7,21,53,0,FALSE,TRUE,FALSE,TRUE,0,22
matthewd,"Forcing explicit type declarations on FKs is not going to fly, though... and migration versioning is not enough to solve that one for people who are upgrading: they're going to end up with some tables using int4 and some using int8 PKs.",FALSE,FALSE,42,21,55,2,FALSE,TRUE,FALSE,TRUE,0,22
jmccartie,"@matthewd I get that. Any idea on how to resolve that? Ditch it and go the rails:upgrade path like you suggested in #24962? Other?",FALSE,FALSE,24,22,57,1,TRUE,TRUE,FALSE,TRUE,0,23
rafaelfranca,"This should not have DEFAULT NULL. It is invalid in MySQL 5.7 #13247",FALSE,TRUE,13,23,59,1,FALSE,TRUE,TRUE,TRUE,0,24
jmccartie,"Code Climate shows no issues: https://codeclimate.com/github/rails/rails/pull/26266",FALSE,FALSE,6,25,61,0,TRUE,TRUE,FALSE,TRUE,0,26
jmccartie,"Passed â€” No new issues were found.",FALSE,FALSE,7,25,62,1,TRUE,TRUE,FALSE,TRUE,0,26
jmccartie,"Anything else to do on this PR?",FALSE,FALSE,7,25,63,2,TRUE,TRUE,FALSE,TRUE,0,26
sgrif,"I'll do a final review soon.",FALSE,TRUE,6,26,64,0,FALSE,TRUE,FALSE,TRUE,0,27
jmccartie,"Thanks, Sean",FALSE,FALSE,2,27,65,0,TRUE,TRUE,FALSE,TRUE,0,28
jmccartie,"On Wed, Sep 21, 2016 at 2:57 PM, Sean Griffin notifications@github.comwrote:",FALSE,FALSE,11,27,66,1,TRUE,TRUE,FALSE,TRUE,0,28
jmccartie,"I'll do a final review soon.",FALSE,FALSE,6,27,67,2,TRUE,FALSE,FALSE,TRUE,0,28
jmccartie,"â€”You are receiving this because you modified the open/close state.Reply to this email directly, view it on GitHub#26266 (comment), or mutethe threadhttps://github.com/notifications/unsubscribe-auth/AAIJETBVd8uZe-NLNpAlROxED9iUK9Bgks5qsahEgaJpZM4JrgwZ.",FALSE,FALSE,22,27,68,3,TRUE,TRUE,FALSE,TRUE,0,28
schneems,"What's the timeline on a review? I'm wondering if a complementary gem that errors or warns on keys used with serial instead of bigserial would be helpful. I'm not sure the best way to go about it though.",FALSE,TRUE,38,28,70,1,FALSE,TRUE,FALSE,TRUE,0,29
sgrif,"It looks like we're the foreign key type mismatch error is only raised for MySQL. Are PostgreSQL and SQLite fine with the mismatched types? (I'm sure we've already discussed that but I'm having a hard time remembering). We should add a test to ensure that the error is correctly raised. Could the message give a specific recommendation as well?",FALSE,TRUE,59,29,73,2,FALSE,TRUE,TRUE,TRUE,0,30
jmccartie,"@sgrif   Thanks for having another look at this",FALSE,FALSE,10,30,74,0,TRUE,TRUE,FALSE,TRUE,0,31
jmccartie,"It looks like we're the foreign key type mismatch error is only raised for MySQL. Are PostgreSQL and SQLite fine with the mismatched types?",FALSE,FALSE,24,30,76,2,TRUE,TRUE,FALSE,TRUE,0,31
jmccartie,"It's been awhile, so I'll try to remember before jumping all the way back in.  If I remember, MySQL was the only one that freaked out -- thus all the workaround code for it.  PG is fine.  SQLite isn't being touched at all.",FALSE,FALSE,46,30,78,4,TRUE,TRUE,FALSE,TRUE,0,31
jmccartie,"Could the message give a specific recommendation as well?",FALSE,FALSE,9,30,80,6,TRUE,TRUE,FALSE,TRUE,0,31
jmccartie,"I think we spent quite a bit of time going around on the error message and landed where we did.  Happy to add more specificity if you have a suggestion?",FALSE,FALSE,31,30,81,7,TRUE,TRUE,FALSE,TRUE,0,31
sgrif,"Something like",FALSE,TRUE,2,31,82,0,FALSE,TRUE,FALSE,TRUE,0,32
sgrif,"To fix this, change the type of the #{column_name} column on #{child_table} to be :integer. (For example t.integer #{foreign_key_name}",FALSE,TRUE,19,31,84,2,FALSE,TRUE,FALSE,TRUE,0,32
sgrif,"Other than the additional test this looks good. Once you've added a test (and updated the error message if you agree with my suggestion) can you squash and rebase this so I can merge?",FALSE,TRUE,34,32,85,0,FALSE,TRUE,FALSE,TRUE,0,33
sgrif,"We should say big integer since bigserial isn't a thing in MySQL and the serial aspect in postgres just means auto incrementing.",FALSE,TRUE,22,33,87,1,FALSE,TRUE,TRUE,TRUE,0,34
jmccartie,"[ ] Once you've added a test  (skipped -- existing)[x] and updated the error message if you agree with my suggestion[x] can you squash and rebase this so I can merge?",FALSE,FALSE,32,34,89,1,TRUE,TRUE,FALSE,TRUE,0,35
qrush,"This class name is misspelled - maybe meant PostgresqlLegacyMigrationTest?",FALSE,FALSE,9,35,90,0,FALSE,TRUE,FALSE,TRUE,0,36
jmccartie,"Thanks @qrush  -- i'll make that change",FALSE,FALSE,8,36,91,0,TRUE,TRUE,FALSE,TRUE,0,37
sgrif,"The test failures appear to be real",FALSE,TRUE,7,37,92,0,FALSE,TRUE,FALSE,TRUE,0,38
matthewd,"Are PostgreSQL and SQLite fine with the mismatched types?",FALSE,TRUE,9,38,94,1,FALSE,TRUE,FALSE,TRUE,0,39
matthewd,"We probably covered this in previous discussion too, but I'll note that there's  fine  and then there's 'fine ... is PostgreSQL casting the searched-for value once before hitting the index (good), or casting the comparison values individually (potentially not so good)?",FALSE,TRUE,40,38,96,3,FALSE,TRUE,FALSE,TRUE,0,39
matthewd,"I'm uncomfortable about teaching a generic-sounding exception (admittedly, currently only used by one in-tree adapter) how to parse a particular DBMS's error message... even before potential i18n gets involved.",FALSE,TRUE,29,39,98,1,FALSE,TRUE,FALSE,TRUE,0,40
jmccartie,"I agree this is brittle.  The original implementation simply bubbled up the DBMS error, but this was added by request from Sean.  In order to display the column and table names from the error -- and provide the specific message that was requested -- this was the best way I could come up with.  I'm happy to back it out, but then need direction on the error message.",FALSE,FALSE,71,40,100,1,TRUE,TRUE,FALSE,TRUE,0,41
jmccartie,"Personally, I'd prefer just this:",FALSE,FALSE,5,41,102,1,TRUE,TRUE,FALSE,TRUE,0,42
jmccartie,"It gives plenty of context when message is passed in.",FALSE,FALSE,10,41,103,2,TRUE,TRUE,FALSE,TRUE,0,42
jmccartie,"Current implementation:",FALSE,FALSE,2,41,104,3,TRUE,FALSE,FALSE,TRUE,0,42
matthewd,"Assuming ActiveRecord::Base.connection seems unfortunate too",FALSE,TRUE,5,42,106,0,FALSE,TRUE,FALSE,TRUE,0,43
jmccartie,"Agreed. This came along with the need to display the specific column and table names. This can be removed if we can agree on a more generic error message.",FALSE,FALSE,29,43,108,1,TRUE,TRUE,FALSE,TRUE,0,44
sgrif,"Can we just pass the connection into the constructor, or do this work in the connection that creates this object?",FALSE,TRUE,20,44,110,1,FALSE,TRUE,FALSE,TRUE,0,45
jmccartie,"Can do...",FALSE,FALSE,2,45,111,0,TRUE,TRUE,FALSE,TRUE,0,46
matthewd,"@schneems convince me this belongs here?",FALSE,TRUE,6,46,112,0,FALSE,FALSE,FALSE,TRUE,0,47
jmccartie,"I can remove this if it's a big deal...",FALSE,FALSE,9,47,113,0,TRUE,TRUE,FALSE,TRUE,0,48
jmccartie,"PostgreSQL casting the searched-for value once before hitting the index (good), or casting the comparison values individually (potentially not so good)?",FALSE,FALSE,21,48,116,2,TRUE,TRUE,FALSE,TRUE,0,49
jmccartie,"I don't have the PostgreSQL expertise to verify this. When verifying if PG cared, this is as far as I went:",FALSE,FALSE,21,48,117,3,TRUE,TRUE,FALSE,TRUE,0,49
jmccartie,"Working on busted tests next...",FALSE,FALSE,5,48,118,4,TRUE,FALSE,FALSE,TRUE,0,49
jmccartie,"is PostgreSQL casting the searched-for value once before hitting the index (good), or casting the comparison values individually (potentially not so good)?",FALSE,FALSE,22,49,121,2,TRUE,TRUE,FALSE,TRUE,0,50
jmccartie,"I checked in with the PG team at Heroku and got this answer:",FALSE,FALSE,13,49,122,3,TRUE,TRUE,FALSE,TRUE,0,50
jmccartie,"It's casting it once, because int4 and int8 opclasses are members of the same opfamily. (That's the exact technical reason). Moreover, on little-endian systems, casting int4 to int8 is literally a no-op. But, as far as pg backwards compatibility goes, making things like int4 and int8 play nice together is something that has received a lot of thought...I don't foresee compatibility problems on the pg side.",FALSE,FALSE,66,49,124,5,TRUE,TRUE,FALSE,TRUE,0,50
jmccartie,"Let me know if I need to get more info or if that's enough to suffice.",FALSE,FALSE,16,49,125,6,TRUE,TRUE,FALSE,TRUE,0,50
jmccartie,"@matthewd I have a local commit ready that simplifies the error message in question.  Tests are passing now as well.",FALSE,FALSE,21,50,126,0,TRUE,TRUE,FALSE,TRUE,0,51
jmccartie,"Just need to know if that's the direction we want to go -- it's backwards from the specificity that @sgrif asked for a few weeks ago",FALSE,FALSE,26,50,127,1,TRUE,FALSE,FALSE,TRUE,0,51
kamipo,"Should test whether Compatibility::V5_0's primary key is auto increment (serial) or not.",FALSE,FALSE,12,51,129,1,FALSE,TRUE,FALSE,TRUE,0,52
schneems,"I don't follow, why do we need to explicitly test the  creation?",FALSE,TRUE,13,52,131,1,FALSE,TRUE,FALSE,TRUE,0,53
jmccartie,"@kamipo You want to test the creation?  or ensure it's auto-increment?",FALSE,FALSE,12,53,133,1,TRUE,TRUE,FALSE,TRUE,0,54
kamipo,"Primary key columns cannot be null. Therefore implicit default of primary key should be auto numbered I think. Currently looks like that Compatibility::V5_0's primary key default is not auto numbered.",FALSE,TRUE,30,54,135,1,FALSE,TRUE,TRUE,TRUE,0,55
jmccartie,"@kamipo I've modified the create_table method to ensure the ID columns auto-increment. Added tests for both adapters as well.",FALSE,FALSE,19,55,136,0,TRUE,TRUE,FALSE,TRUE,0,56
kamipo,"We can use col.serial?.https://github.com/rails/rails/blob/master/activerecord/lib/active_record/connection_adapters/postgresql/column.rb",FALSE,TRUE,4,56,137,0,FALSE,TRUE,FALSE,TRUE,0,57
jmccartie,"Great, thanks!",FALSE,FALSE,2,57,138,0,TRUE,TRUE,FALSE,TRUE,0,58
jmccartie,"@sgrif I cannot reproduce the error from Travis locally.  Last attempt:  bundle exec rake db:mysql:rebuild && bundle exec rake mysql2:test",FALSE,FALSE,22,58,139,0,TRUE,TRUE,FALSE,TRUE,0,59
jmccartie,"Passes in isolation also:",FALSE,FALSE,4,58,140,1,TRUE,FALSE,FALSE,TRUE,0,59
jmccartie,"Any ideas or tips?",FALSE,FALSE,4,58,141,2,TRUE,FALSE,FALSE,TRUE,0,59
sgrif,"Let's take a look tomorrow",FALSE,TRUE,5,59,142,0,FALSE,TRUE,FALSE,TRUE,0,60
jmccartie,"@sgrif Looks like Code Climate is ok? https://codeclimate.com/github/rails/rails/builds/2672",FALSE,FALSE,8,60,143,0,TRUE,TRUE,FALSE,TRUE,0,61
jmccartie,"@sgrif Ping.  I resolved the merge conflicts.  Should be all set.",FALSE,FALSE,13,62,145,0,TRUE,TRUE,FALSE,TRUE,0,63
jmccartie,"@matthewd @sgriff Ping.  Left a comment here asking for clarification: #26266 (comment)",FALSE,FALSE,13,63,146,0,TRUE,TRUE,FALSE,TRUE,0,64
jmccartie,"@matthewd @sgriff Ping. Left a comment here asking for clarification: #26266 (comment)",FALSE,FALSE,12,64,147,0,TRUE,TRUE,FALSE,TRUE,0,65
sgrif,"Left a comment, but please don't repeatedly ping. We have a ton of notifications that we're going through, and this is already on our radar.",FALSE,TRUE,25,65,148,0,FALSE,TRUE,FALSE,TRUE,0,66
sgrif,"Also you weren't even pinging the right user name. ;)",FALSE,TRUE,10,66,149,0,FALSE,TRUE,FALSE,TRUE,0,67
jmccartie,"@sgrif Ack, sorry. ðŸ˜ž Thanks for the reply.",FALSE,FALSE,8,67,150,0,TRUE,TRUE,FALSE,TRUE,0,68
jmccartie,"@sgrif Flipped this to an else since the MySQL defaults seem to be good ones.  https://github.com/rails/rails/pull/26266/files#diff-2a8be25f82da6b3935cc6a41300a1b01",FALSE,FALSE,17,68,151,0,TRUE,TRUE,FALSE,TRUE,0,69
jmccartie,"If those aren't good defaults -- and there aren't good ones for an else statements -- I can revert that and go back to looking at changing default_primary_key behavior.",FALSE,FALSE,29,68,152,1,TRUE,TRUE,FALSE,TRUE,0,69
jmccartie,"Let me know. Thanks!",FALSE,FALSE,4,68,153,2,TRUE,TRUE,FALSE,TRUE,0,69
sgrif,"git config --global core.autocrlf input",FALSE,TRUE,5,69,154,0,FALSE,FALSE,FALSE,TRUE,0,70
sgrif,"or just fix your editor ;P",FALSE,TRUE,6,69,155,1,FALSE,FALSE,FALSE,TRUE,0,70
jmccartie,"@sgrif Made local change, thanks. Need to remove this change (somehow)?",FALSE,FALSE,11,70,156,0,TRUE,TRUE,FALSE,TRUE,0,71
sgrif,"Just git checkout master on this file.",FALSE,TRUE,7,71,157,0,FALSE,TRUE,FALSE,TRUE,0,72
jmccartie,"@sgrif You've made me facepalm twice today :)   Done.",FALSE,FALSE,11,72,158,0,TRUE,TRUE,FALSE,TRUE,0,73
sgrif,"I don't think this is valid Ruby",FALSE,TRUE,7,73,159,0,FALSE,TRUE,FALSE,TRUE,0,74
jmccartie,"@sgrif :facepalm:",FALSE,FALSE,2,74,160,0,TRUE,FALSE,FALSE,TRUE,0,75
kamipo,"This line overwites user provided primary key name. It is not needed.",FALSE,TRUE,12,76,162,0,FALSE,TRUE,FALSE,TRUE,0,77
kamipo,"This else block is unexpected for sqlite3.",FALSE,TRUE,7,77,163,0,FALSE,TRUE,FALSE,TRUE,0,78
jmccartie,"@kamipo Thanks for the feedback. I'll get those fixed",FALSE,FALSE,9,78,164,0,TRUE,TRUE,FALSE,TRUE,0,79
jmccartie,"@kamipo Done. Let me know if the recent changes resolve the issues you pointed out.",FALSE,FALSE,15,79,165,0,TRUE,TRUE,FALSE,TRUE,0,80
kamipo,"options[:id] should be :primary_key (should not be changed) for sqlite3.:integer type is not auto numbered.",FALSE,TRUE,15,80,167,1,FALSE,FALSE,TRUE,TRUE,0,81
matthewd,"Can we improve things by making this:",FALSE,TRUE,7,81,168,0,FALSE,TRUE,FALSE,TRUE,0,82
matthewd,"... and then leave the SQlite and PostgreSQL adapters to turn that back into whatever internal type they need?",FALSE,TRUE,19,81,170,2,FALSE,TRUE,FALSE,TRUE,0,82
matthewd,"My theory here is that we'd be improving the underlying API, by better abstracting the DB-specific :serial etc., and then just using said newly-improved API for the compatibility layer.",FALSE,TRUE,29,82,171,0,FALSE,TRUE,FALSE,TRUE,0,83
kamipo,"Simply super is enough.",FALSE,TRUE,4,84,173,0,FALSE,TRUE,FALSE,TRUE,0,85
jmccartie,"@kamipo @matthewd Updated. Not a huge fan of the case statement, but feels better to me than abstracting overrides into the adapters for this logic. I hope this fits everyone's needs.",FALSE,FALSE,31,86,175,0,TRUE,TRUE,FALSE,TRUE,0,87
jmccartie,"@kamipo  -- I also added a compatibility test for sqlite3 to make sure that it was covered here.",FALSE,FALSE,19,86,176,1,TRUE,TRUE,FALSE,TRUE,0,87
jmccartie,"Codeclimate says failed, but looks to be passing...",FALSE,FALSE,8,87,177,0,TRUE,TRUE,FALSE,TRUE,0,88
kamipo,"Looks like that this method is primary_key?, not auto_increment?.",FALSE,TRUE,9,88,178,0,FALSE,FALSE,FALSE,FALSE,1,89
kamipo,"Seems that it offences against Style/EmptyLines.https://github.com/rails/rails/blob/master/.rubocop.yml#L27-L29",FALSE,TRUE,6,89,179,0,FALSE,TRUE,FALSE,TRUE,0,90
jmccartie,"Updated.  Thanks @kamipo",FALSE,FALSE,4,90,180,0,TRUE,TRUE,FALSE,TRUE,0,91
matthewd,"ActiveRecord::Migration[5.0] (the real class is a hidden implementation detail, so best to stick to what users will do)",FALSE,TRUE,18,91,181,0,FALSE,TRUE,FALSE,TRUE,0,92
jmccartie,"@matthewd Good catch. Updated. Thanks.",FALSE,FALSE,5,92,182,0,TRUE,TRUE,FALSE,TRUE,0,93
metaskills,"Cool, thanks everyone. I'll make this happen in the SQL Server work.",FALSE,FALSE,12,93,183,0,FALSE,TRUE,FALSE,TRUE,0,94
indirect,"A tiny note of cautionary experience: BIGINT grows beyond the size that can be represented as a number in JavaScript. If you send IDs to any front-end code, this means you have to represent IDs as strings instead of numbers.",FALSE,FALSE,40,94,185,1,FALSE,TRUE,FALSE,TRUE,0,95
indirect,"Lest anyone say this is not a real problem and no one needs to worry about it until later, here are two real-world examples of this problem off the top of my head: Twitter IDs, which was a multi-month agonizingly painful change, and last month at one of my consulting clients when a data migration that created just a few records with a randomly selected high IDs broke the entire production front-end JS app until they were deleted from the database.",FALSE,FALSE,81,94,186,2,FALSE,TRUE,FALSE,TRUE,0,95
jonhue,"@jmccartie Do you need to do something special, in order to use BIGINT as primary key. I am using rails 5.1.beta1 and mysql2, but still my id's are regular 4 bit integers. -> #28386",FALSE,FALSE,34,95,187,0,FALSE,TRUE,FALSE,TRUE,0,96
jmccartie,"@jonhue Hmmmm. I can look tomorrow. What version of MySQL?",FALSE,TRUE,10,96,188,0,TRUE,TRUE,FALSE,TRUE,0,97
jmccartie,"@jonhue Ah! Looks like it was resolved in the other thread. ðŸ‘?ðŸ?»",FALSE,TRUE,12,97,189,0,TRUE,TRUE,FALSE,TRUE,0,98
jonhue,"@jmccartie It actually has not been resolved.Or is it meant to only work for the migrations created with Rails 5.1?",FALSE,TRUE,20,98,190,0,FALSE,TRUE,FALSE,TRUE,0,99
jonhue,"Even if I change [5.0] to [5.1] ( in the migration files ), they'll still use regular integers.",FALSE,TRUE,18,98,191,1,FALSE,TRUE,FALSE,TRUE,0,99
jmccartie,"@jonhue  So is this how I can reproduce: 1) Create and run a migration with 5.0, then 2) upgrade to Rails 5.1, 3) change migration to [5.1], then 4) observe primary keys are integer?",FALSE,TRUE,35,99,192,0,TRUE,TRUE,FALSE,TRUE,0,100
jonhue,"@jmccartie That's right.",FALSE,TRUE,3,100,193,0,FALSE,TRUE,FALSE,TRUE,0,101
jmccartie,"Following up here: #28386",FALSE,TRUE,4,101,194,0,TRUE,TRUE,FALSE,TRUE,0,102
grosser,"loading my old schema now blows up because foreign keys don't match:",FALSE,FALSE,12,102,195,0,FALSE,FALSE,FALSE,TRUE,0,103
grosser,"any way of reverting this default so I can upgrade and migrate after ?",FALSE,FALSE,14,102,196,1,FALSE,TRUE,FALSE,TRUE,0,103
jmccartie,"@grosser You'll want to either 1) upgrade your existing columns, or 2) Change the migration to force an int primary key.",FALSE,TRUE,21,103,197,0,TRUE,TRUE,FALSE,TRUE,0,104
